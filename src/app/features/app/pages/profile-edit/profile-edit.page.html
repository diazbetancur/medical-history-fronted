<div class="profile-edit-page">
  <header>
    <h1>Editar Perfil</h1>
    <p>Actualiza tu información profesional</p>
  </header>

  <mat-card>
    <mat-card-content>
      <div class="avatar-section">
        <div class="avatar">
          <mat-icon>person</mat-icon>
        </div>
        <button mat-stroked-button>
          <mat-icon>photo_camera</mat-icon>
          Cambiar Foto
        </button>
      </div>

      <form class="profile-form">
        <mat-form-field appearance="outline">
          <mat-label>Nombre Completo</mat-label>
          <input matInput [(ngModel)]="profile.name" name="name" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input
            matInput
            [(ngModel)]="profile.email"
            name="email"
            type="email"
          />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Teléfono</mat-label>
          <input matInput [(ngModel)]="profile.phone" name="phone" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Especialidad</mat-label>
          <input matInput [(ngModel)]="profile.specialty" name="specialty" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Descripción</mat-label>
          <textarea
            matInput
            [(ngModel)]="profile.description"
            name="description"
            rows="4"
          ></textarea>
        </mat-form-field>

        <div class="services-section">
          <h3>Servicios que ofreces</h3>
          <mat-chip-set>
            @for (service of profile.services; track service) {
            <mat-chip (removed)="removeService(service)">
              {{ service }}
              <button matChipRemove>
                <mat-icon>cancel</mat-icon>
              </button>
            </mat-chip>
            }
          </mat-chip-set>

          <div class="add-service">
            <mat-form-field appearance="outline">
              <mat-label>Agregar servicio</mat-label>
              <input
                matInput
                [(ngModel)]="newService"
                name="newService"
                (keyup.enter)="addService()"
              />
            </mat-form-field>
            <button mat-icon-button color="primary" (click)="addService()">
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </div>
      </form>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-button>Cancelar</button>
      <button mat-raised-button color="primary" (click)="saveProfile()">
        <mat-icon>save</mat-icon>
        Guardar Cambios
      </button>
    </mat-card-actions>
  </mat-card>
</div>
